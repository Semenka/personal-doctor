{
  "_format": "hh3-artifact-1",
  "contractName": "DolomitePositionGuardian",
  "sourceName": "contracts/Counter.sol",
  "abi": [
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "dolomiteMarginAddress",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "rebalancerAddress",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "initialSafetyMarginBps",
          "type": "uint256"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "inputs": [],
      "name": "InvalidAddress",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "InvalidBps",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "NoBorrow",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "NotOwner",
      "type": "error"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "marginBps",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "thresholdBps",
          "type": "uint256"
        }
      ],
      "name": "SafetyMarginNotBreached",
      "type": "error"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "previousMargin",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "newMargin",
          "type": "address"
        }
      ],
      "name": "DolomiteMarginUpdated",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "previousOwner",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "newOwner",
          "type": "address"
        }
      ],
      "name": "OwnershipTransferred",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "accountOwner",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "accountNumber",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "marginBps",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "wbtcAmountIn",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "minUsdcOut",
          "type": "uint256"
        }
      ],
      "name": "PositionAdjusted",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "previousRebalancer",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "newRebalancer",
          "type": "address"
        }
      ],
      "name": "RebalancerUpdated",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "previousBps",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "newBps",
          "type": "uint256"
        }
      ],
      "name": "SafetyMarginUpdated",
      "type": "event"
    },
    {
      "inputs": [],
      "name": "MAX_BPS",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "accountOwner",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "accountNumber",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "wbtcAmountIn",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "minUsdcOut",
          "type": "uint256"
        }
      ],
      "name": "adjustPosition",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "dolomiteMargin",
      "outputs": [
        {
          "internalType": "contract IDolomiteMargin",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "accountOwner",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "accountNumber",
          "type": "uint256"
        }
      ],
      "name": "getSafetyMarginBps",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "marginBps",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "supplyValue",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "borrowValue",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "owner",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "rebalancer",
      "outputs": [
        {
          "internalType": "contract IPositionRebalancer",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "safetyMarginBps",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "newDolomiteMargin",
          "type": "address"
        }
      ],
      "name": "setDolomiteMargin",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "newRebalancer",
          "type": "address"
        }
      ],
      "name": "setRebalancer",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "newSafetyMarginBps",
          "type": "uint256"
        }
      ],
      "name": "setSafetyMarginBps",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "newOwner",
          "type": "address"
        }
      ],
      "name": "transferOwnership",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "bytecode": "0x608060405234801561000f575f5ffd5b506040516108be3803806108be83398101604081905261002e916100e9565b6001600160a01b038316158061004b57506001600160a01b038216155b156100695760405163e6c4247b60e01b815260040160405180910390fd5b61271081111561008c5760405163c6cc5d7f60e01b815260040160405180910390fd5b5f80546001600160a01b03199081163317909155600180546001600160a01b039586169083161790556002805493909416921691909117909155600355610122565b80516001600160a01b03811681146100e4575f5ffd5b919050565b5f5f5f606084860312156100fb575f5ffd5b610104846100ce565b9250610112602085016100ce565b9150604084015190509250925092565b61078f8061012f5f395ff3fe608060405234801561000f575f5ffd5b50600436106100a6575f3560e01c806397ce7e271161006e57806397ce7e2714610127578063dbea77ab1461013a578063ea5280c614610168578063ed839a1f1461017f578063f2fde38b14610192578063fd967f47146101a5575f5ffd5b806301d22ccd146100aa5780636cfd1553146100da57806376354857146100ef57806379bb8de2146101025780638da5cb5b14610115575b5f5ffd5b6002546100bd906001600160a01b031681565b6040516001600160a01b0390911681526020015b60405180910390f35b6100ed6100e836600461063f565b6101ae565b005b6001546100bd906001600160a01b031681565b6100ed61011036600461063f565b61025a565b5f546100bd906001600160a01b031681565b6100ed61013536600461065f565b610306565b61014d610148366004610695565b610413565b604080519384526020840192909252908201526060016100d1565b61017160035481565b6040519081526020016100d1565b6100ed61018d3660046106bd565b6104ec565b6100ed6101a036600461063f565b61057a565b61017161271081565b5f546001600160a01b031633146101d8576040516330cd747160e01b815260040160405180910390fd5b6001600160a01b0381166101ff5760405163e6c4247b60e01b815260040160405180910390fd5b6002546040516001600160a01b038084169216907fdaac33c9824c151488e79746a58b1b846dd797ac4b96a3a42efce76744fb109f905f90a3600280546001600160a01b0319166001600160a01b0392909216919091179055565b5f546001600160a01b03163314610284576040516330cd747160e01b815260040160405180910390fd5b6001600160a01b0381166102ab5760405163e6c4247b60e01b815260040160405180910390fd5b6001546040516001600160a01b038084169216907ff269bd7f14a8a0c2729f823e2652f38a84bc2480ca99d55088c724874414eb79905f90a3600180546001600160a01b0319166001600160a01b0392909216919091179055565b5f6103118585610413565b5050905060035481111561034f57600354604051630138398b60e41b8152610346918391600401918252602082015260400190565b60405180910390fd5b600254604051632332d74b60e01b81526001600160a01b03878116600483015260248201879052604482018690526064820185905290911690632332d74b906084015f604051808303815f87803b1580156103a8575f5ffd5b505af11580156103ba573d5f5f3e3d5ffd5b505060408051848152602081018790529081018590528692506001600160a01b03881691507fd011583de31576838d2312f055673edd4dc04400b4670aa297184c61598b94f09060600160405180910390a35050505050565b600154604051632b1f58e160e01b81526001600160a01b038481166004830152602482018490525f928392839290911690632b1f58e1906044016040805180830381865afa158015610467573d5f5f3e3d5ffd5b505050506040513d601f19601f8201168201806040525081019061048b91906106d4565b90925090505f8190036104b15760405163ec8de8e160e01b815260040160405180910390fd5b8082116104c0575f92506104e5565b806127106104ce828561070a565b6104d89190610723565b6104e2919061073a565b92505b9250925092565b5f546001600160a01b03163314610516576040516330cd747160e01b815260040160405180910390fd5b6127108111156105395760405163c6cc5d7f60e01b815260040160405180910390fd5b60035460408051918252602082018390527fb1bd64991d492b5c42e1b82d70a869886d5ab4482f016415953f4bc94cf7e9c5910160405180910390a1600355565b5f546001600160a01b031633146105a4576040516330cd747160e01b815260040160405180910390fd5b6001600160a01b0381166105cb5760405163e6c4247b60e01b815260040160405180910390fd5b5f80546040516001600160a01b03808516939216917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e091a35f80546001600160a01b0319166001600160a01b0392909216919091179055565b80356001600160a01b038116811461063a575f5ffd5b919050565b5f6020828403121561064f575f5ffd5b61065882610624565b9392505050565b5f5f5f5f60808587031215610672575f5ffd5b61067b85610624565b966020860135965060408601359560600135945092505050565b5f5f604083850312156106a6575f5ffd5b6106af83610624565b946020939093013593505050565b5f602082840312156106cd575f5ffd5b5035919050565b5f5f604083850312156106e5575f5ffd5b505080516020909101519092909150565b634e487b7160e01b5f52601160045260245ffd5b8181038181111561071d5761071d6106f6565b92915050565b808202811582820484141761071d5761071d6106f6565b5f8261075457634e487b7160e01b5f52601260045260245ffd5b50049056fea2646970667358221220edb5acd8c99d72a6fdbcd56abe114d790284b9e8fc6b333c69f626422c0a73c064736f6c634300081c0033",
  "deployedBytecode": "0x608060405234801561000f575f5ffd5b50600436106100a6575f3560e01c806397ce7e271161006e57806397ce7e2714610127578063dbea77ab1461013a578063ea5280c614610168578063ed839a1f1461017f578063f2fde38b14610192578063fd967f47146101a5575f5ffd5b806301d22ccd146100aa5780636cfd1553146100da57806376354857146100ef57806379bb8de2146101025780638da5cb5b14610115575b5f5ffd5b6002546100bd906001600160a01b031681565b6040516001600160a01b0390911681526020015b60405180910390f35b6100ed6100e836600461063f565b6101ae565b005b6001546100bd906001600160a01b031681565b6100ed61011036600461063f565b61025a565b5f546100bd906001600160a01b031681565b6100ed61013536600461065f565b610306565b61014d610148366004610695565b610413565b604080519384526020840192909252908201526060016100d1565b61017160035481565b6040519081526020016100d1565b6100ed61018d3660046106bd565b6104ec565b6100ed6101a036600461063f565b61057a565b61017161271081565b5f546001600160a01b031633146101d8576040516330cd747160e01b815260040160405180910390fd5b6001600160a01b0381166101ff5760405163e6c4247b60e01b815260040160405180910390fd5b6002546040516001600160a01b038084169216907fdaac33c9824c151488e79746a58b1b846dd797ac4b96a3a42efce76744fb109f905f90a3600280546001600160a01b0319166001600160a01b0392909216919091179055565b5f546001600160a01b03163314610284576040516330cd747160e01b815260040160405180910390fd5b6001600160a01b0381166102ab5760405163e6c4247b60e01b815260040160405180910390fd5b6001546040516001600160a01b038084169216907ff269bd7f14a8a0c2729f823e2652f38a84bc2480ca99d55088c724874414eb79905f90a3600180546001600160a01b0319166001600160a01b0392909216919091179055565b5f6103118585610413565b5050905060035481111561034f57600354604051630138398b60e41b8152610346918391600401918252602082015260400190565b60405180910390fd5b600254604051632332d74b60e01b81526001600160a01b03878116600483015260248201879052604482018690526064820185905290911690632332d74b906084015f604051808303815f87803b1580156103a8575f5ffd5b505af11580156103ba573d5f5f3e3d5ffd5b505060408051848152602081018790529081018590528692506001600160a01b03881691507fd011583de31576838d2312f055673edd4dc04400b4670aa297184c61598b94f09060600160405180910390a35050505050565b600154604051632b1f58e160e01b81526001600160a01b038481166004830152602482018490525f928392839290911690632b1f58e1906044016040805180830381865afa158015610467573d5f5f3e3d5ffd5b505050506040513d601f19601f8201168201806040525081019061048b91906106d4565b90925090505f8190036104b15760405163ec8de8e160e01b815260040160405180910390fd5b8082116104c0575f92506104e5565b806127106104ce828561070a565b6104d89190610723565b6104e2919061073a565b92505b9250925092565b5f546001600160a01b03163314610516576040516330cd747160e01b815260040160405180910390fd5b6127108111156105395760405163c6cc5d7f60e01b815260040160405180910390fd5b60035460408051918252602082018390527fb1bd64991d492b5c42e1b82d70a869886d5ab4482f016415953f4bc94cf7e9c5910160405180910390a1600355565b5f546001600160a01b031633146105a4576040516330cd747160e01b815260040160405180910390fd5b6001600160a01b0381166105cb5760405163e6c4247b60e01b815260040160405180910390fd5b5f80546040516001600160a01b03808516939216917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e091a35f80546001600160a01b0319166001600160a01b0392909216919091179055565b80356001600160a01b038116811461063a575f5ffd5b919050565b5f6020828403121561064f575f5ffd5b61065882610624565b9392505050565b5f5f5f5f60808587031215610672575f5ffd5b61067b85610624565b966020860135965060408601359560600135945092505050565b5f5f604083850312156106a6575f5ffd5b6106af83610624565b946020939093013593505050565b5f602082840312156106cd575f5ffd5b5035919050565b5f5f604083850312156106e5575f5ffd5b505080516020909101519092909150565b634e487b7160e01b5f52601160045260245ffd5b8181038181111561071d5761071d6106f6565b92915050565b808202811582820484141761071d5761071d6106f6565b5f8261075457634e487b7160e01b5f52601260045260245ffd5b50049056fea2646970667358221220edb5acd8c99d72a6fdbcd56abe114d790284b9e8fc6b333c69f626422c0a73c064736f6c634300081c0033",
  "linkReferences": {},
  "deployedLinkReferences": {},
  "immutableReferences": {},
  "inputSourceName": "project/contracts/Counter.sol",
  "buildInfoId": "solc-0_8_28-a815ae71b75446cb94ddb6248a94b7d15a3a5d6b"
}